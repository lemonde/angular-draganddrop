function debugDraggable(a){}function debugDroppable(a){}function draggableDirective(a){return{restrict:"A",link:function(b,c,d){function e(){try{return b.$eval(i)}catch(a){throw new Error("draggable-data can't be parsed by Angular : check your draggable directive invocation !")}}function f(a){debugDraggable(b,"dragstart"),a.dataTransfer.effectAllowed=h||a.dataTransfer.effectAllowed,l&&c.addClass(l);var d=e(),f=angular.toJson(d);a.dataTransfer.setData("json/"+j,f),b.$apply(function(){m(b,{$data:d,$event:a})}),a.stopPropagation()}function g(a){debugDraggable(b,"dragend"),c.removeClass(l);var d=e();b.$apply(function(){n(b,{$data:d,$event:a})}),a.stopPropagation()}debugDraggable(b,"init");var h,i,j,k=c[0],l=d.draggingClass;d.$observe("effectAllowed",function(a){debugDraggable(b,"observed effectAllowed change"),h=a}),d.$observe("draggableData",function(a){debugDraggable(b,"observed draggableData change"),i=a}),d.$observe("draggableType",function(a){debugDraggable(b,"observed draggableType change"),j=a}),d.$observe("draggable",function(a){debugDraggable(b,"observed draggable change"),k.draggable="false"!==a});var m=a(d.dragStart),n=a(d.dragEnd);k.addEventListener("dragstart",f),k.addEventListener("dragend",g),b.$on("$destroy",function(){debugDraggable(b,"$destroy"),k.removeEventListener("dragstart",f),k.removeEventListener("dragend",g)})}}}function dropDirective(a){return{restrict:"A",link:function(b,c,d){function e(a){if(debugDroppable(b,"dragover"),!j(b.$eval(o),a))return debugDroppable(b,"dragover rejected, draggable type not accepted"),!0;a.dataTransfer.dropEffect=n||a.dataTransfer.dropEffect,a.preventDefault(),p&&c.addClass(p);var e=(new Date).getTime();if(200>e-u)return void debugDroppable(b,"dragover throttled");if(u=e,!d.dragOver)return void debugDroppable(b,"no dragover callback");var f=k(a);b.$apply(function(){debugDroppable(b,"dragover callback !"),q(b,{$data:f,$event:a})})}function f(a){if(debugDroppable(b,"dragenter"),!j(b.$eval(o),a))return!0;if(a.preventDefault(),d.dragEnter){var c=k(a);b.$apply(function(){r(b,{$data:c,$event:a})})}}function g(a){if(debugDroppable(b,"dragleave"),!j(b.$eval(o),a))return!0;if(a.preventDefault(),i(),d.dragLeave){var c=k(a);b.$apply(function(){s(b,{$data:c,$event:a})})}}function h(a){debugDroppable(b,"drop");var c=k(a);i(),b.$apply(function(){t(b,{$data:c,$event:a})}),a.preventDefault()}function i(){c.removeClass(p)}function j(a,b){return"boolean"==typeof a?a:"string"==typeof a?j([a],b):Array.isArray(a)?j(function(b){return b.some(function(b){return b=b.split("/"),a.some(function(a){a=a.split("/");var c=!0;return b.forEach(function(b,d){"*"!==a[d]&&b!==a[d]&&(c=!1)}),c})})},b):"function"==typeof a?a(l(b.dataTransfer.types)):!1}function k(a){var b=l(a.dataTransfer.types);return b.reduce(function(b,c){var d=a.dataTransfer.getData(c),e=c.split("/")[0];return"json"===e&&d&&(d=angular.fromJson(d)),b[c]=d,c.split("/").reduce(function(a,c){return a.push(c),b[a.join("/")]=d,a},[]),b},{})}function l(a){return Array.prototype.slice.call(a)}debugDroppable(b,"init");var m=c[0],n=d.dropEffect,o=d.dropAccept,p=d.dragOverClass,q=a(d.dragOver),r=a(d.dragEnter),s=a(d.dragLeave),t=a(d.drop);m.addEventListener("dragover",e),m.addEventListener("dragenter",f),m.addEventListener("dragleave",g),m.addEventListener("drop",h),b.$on("$destroy",function(){m.removeEventListener("dragover",e),m.removeEventListener("dragenter",f),m.removeEventListener("dragleave",g),m.removeEventListener("drop",h)});var u=0}}}angular.module("draganddrop",[]).directive("draggable",["$parse",draggableDirective]).directive("drop",["$parse",dropDirective]);
//# sourceMappingURL=angular-draganddrop.min.map