/*! Angular draganddrop v0.2.1 | (c) 2013 Greg BergÃ© | License MIT */
function draggableDirective(a){return{restrict:"A",link:function(b,c,d){function e(a){a.dataTransfer.effectAllowed=g||a.dataTransfer.effectAllowed;var c=b.$eval(h),d=angular.toJson(c);b.$apply(function(){k(b,{$data:c,$event:a})}),a.dataTransfer.setData("json/"+i,d),a.stopPropagation()}function f(a){var c=b.$eval(h);b.$apply(function(){l(b,{$data:c,$event:a})}),a.stopPropagation()}var g,h,i,j=c[0];d.$observe("effectAllowed",function(a){g=a}),d.$observe("draggableData",function(a){h=a}),d.$observe("draggableType",function(a){i=a});var k=a(d.dragStart),l=a(d.dragEnd);d.$observe("draggable",function(a){j.draggable="false"!==a}),j.addEventListener("dragstart",e),j.addEventListener("dragend",f),b.$on("$destroy",function(){j.removeEventListener("dragstart",e),j.removeEventListener("dragend",f)})}}}function dropDirective(a){return{restrict:"A",link:function(b,c,d){function e(a){if(!i(b.$eval(n),a))return!0;o&&c.addClass(o),a.dataTransfer.dropEffect=m||a.dataTransfer.dropEffect,a.preventDefault();var e=(new Date).getTime();if(!(200>e-s)&&(s=e,d.dragOver)){var f=j(a);b.$apply(function(){p(b,{$data:f,$event:a})})}}function f(a){if(!i(b.$eval(n),a))return!0;if(h(),d.dragLeave){var c=j(a);b.$apply(function(){q(b,{$data:c,$event:a})}),a.preventDefault()}}function g(a){var c=j(a);h(),b.$apply(function(){r(b,{$data:c,$event:a})}),a.preventDefault()}function h(){c.removeClass(o)}function i(a,b){return"boolean"==typeof a?a:"string"==typeof a?i([a],b):Array.isArray(a)?i(function(b){return b.some(function(b){return b=b.split("/"),a.some(function(a){a=a.split("/");var c=!0;return b.forEach(function(b,d){"*"!==a[d]&&b!==a[d]&&(c=!1)}),c})})},b):"function"==typeof a?a(k(b.dataTransfer.types)):!1}function j(a){var b=k(a.dataTransfer.types);return b.reduce(function(b,c){var d=a.dataTransfer.getData(c),e=c.split("/")[0];return"json"===e&&d&&(d=angular.fromJson(d)),b[c]=d,c.split("/").reduce(function(a,c){return a.push(c),b[a.join("/")]=d,a},[]),b},{})}function k(a){return Array.prototype.slice.call(a)}var l=c[0],m=d.dropEffect,n=d.dropAccept,o=d.dragOverClass,p=a(d.dragOver),q=a(d.dragLeave),r=a(d.drop);l.addEventListener("dragover",e),l.addEventListener("dragleave",f),l.addEventListener("drop",g),b.$on("$destroy",function(){l.removeEventListener("dragover",e),l.removeEventListener("dragleave",f),l.removeEventListener("drop",g)});var s=0}}}angular.module("draganddrop",[]).directive("draggable",["$parse",draggableDirective]).directive("drop",["$parse",dropDirective]);
//# sourceMappingURL=angular-draganddrop.min.map